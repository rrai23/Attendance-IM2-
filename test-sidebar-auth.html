<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Sidebar Auth</title>
</head>
<body>
    <h1>Testing Sidebar Authentication</h1>
    <div id="test-results"></div>
    
    <script src="js/directflow-auth.js"></script>
    <script src="js/directflow.js"></script>
    <script src="js/sidebar.js"></script>
    
    <script>
        // Test DirectFlowAuth availability
        document.addEventListener('DOMContentLoaded', function() {
            const results = document.getElementById('test-results');
            
            // Check DirectFlowAuth
            if (typeof window !== 'undefined' && window.directFlowAuth) {
                results.innerHTML += '<p>✅ DirectFlowAuth is available</p>';
                
                // Initialize DirectFlowAuth
                window.directFlowAuth.init().then(() => {
                    results.innerHTML += '<p>✅ DirectFlowAuth initialized</p>';
                    
                    // Test sidebar initialization
                    if (typeof SidebarManager !== 'undefined') {
                        results.innerHTML += '<p>✅ SidebarManager class available</p>';
                        
                        const sidebar = new SidebarManager();
                        sidebar.init();
                        results.innerHTML += '<p>✅ Sidebar initialized successfully</p>';
                    } else {
                        results.innerHTML += '<p>❌ SidebarManager not available</p>';
                    }
                }).catch(error => {
                    results.innerHTML += '<p>❌ DirectFlowAuth initialization failed: ' + error.message + '</p>';
                });
            } else {
                results.innerHTML += '<p>❌ DirectFlowAuth not available</p>';
            }
        });
    </script>
</body>
</html>
