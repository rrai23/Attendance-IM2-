<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Employees Test</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="app-container">
        <main class="main-content">
            <header class="page-header">
                <div class="header-top">
                    <div class="header-title">
                        <h1>Employee Management Test</h1>
                        <p>Testing basic functionality</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="addEmployeeBtn">
                            <span class="btn-text">Add Employee</span>
                        </button>
                    </div>
                </div>
            </header>
            
            <div class="content-area">
                <div class="card">
                    <div class="card-header">
                        <h3>Employee Directory</h3>
                    </div>
                    <div class="card-content">
                        <table class="table" id="employeesTable">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Department</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="employeesTableBody">
                                <tr>
                                    <td>Loading...</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div class="empty-state hidden" id="emptyState">
                            <h3>No employees found</h3>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Test status -->
    <div style="position: fixed; top: 10px; right: 10px; background: white; padding: 10px; border: 1px solid #ccc; border-radius: 5px; z-index: 9999;">
        <div id="testStatus">Initializing...</div>
    </div>

    <script src="/js/employees-page.js"></script>
    <script>
        function updateStatus(message, color = 'black') {
            const status = document.getElementById('testStatus');
            if (status) {
                status.textContent = message;
                status.style.color = color;
            }
            console.log('Status:', message);
        }

        document.addEventListener('DOMContentLoaded', function() {
            updateStatus('DOM loaded', 'blue');
            
            try {
                if (typeof EmployeesPageManager === 'undefined') {
                    updateStatus('❌ EmployeesPageManager not found!', 'red');
                    return;
                }
                
                updateStatus('✅ Creating manager...', 'orange');
                const manager = new EmployeesPageManager();
                window.employeesManager = manager;
                
                updateStatus('✅ Manager created successfully!', 'green');
                
                // Test if employees are loaded
                setTimeout(() => {
                    if (manager.employees && manager.employees.length > 0) {
                        updateStatus(`✅ ${manager.employees.length} employees loaded`, 'green');
                    } else {
                        updateStatus('⚠️ No employees loaded', 'orange');
                    }
                }, 2000);
                
            } catch (error) {
                updateStatus('❌ Error: ' + error.message, 'red');
                console.error('Full error:', error);
            }
        });
    </script>
</body>
</html>
